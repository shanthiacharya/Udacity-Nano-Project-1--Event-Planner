!function(e,t,r,s){function i(t,r){this.element=t,this.options=e.extend({},n,r),this._defaults=n,this._name=o,this.init(),this.required_score=this.options.strength_required_upper+this.options.strength_required_lower+this.options.strength_required_digits+this.options.strength_required_special+1}var o="boot_strength",n={strength_minlength:8,strength_required_upper:1,strength_required_lower:1,strength_required_digits:1,strength_required_special:1};i.prototype={init:function(){var t=this;t.$elem=e(t.element);var r=t.$elem.attr("id");t.$elem.after('<div class="strength_meter"><div data-meter="'+r+'"><p></p></div></div><div class="idiv" data-meter-fa="'+r+'"><i class="fa fa-info-circle"></i></div>'),t.$elem.bind("keyup",function(s){console.log("Keyup Event"),thisval=e("#"+r).val(),t.check_strength(thisval,r)}),t.$elem.bind("blur",function(t){console.log("Blur Event"),e("#inputPassword").attr("data-content",""),e("#inputPassword").popover("hide")}),t.$elem.bind("focus",function(t){e("#inputPassword").attr("data-content",""),e("#inputPassword").popover("hide")}),t.$elem.bind("click",function(t){e("#inputPassword").attr("data-content",""),e("#inputPassword").popover("hide")}),e("div.idiv[data-meter-fa='"+r+"']").on("click",function(){var e="Password requirements:\nUppercase characters: "+t.options.strength_required_upper;e+="\nLowercase characters: "+t.options.strength_required_lower,e+="\nSpecial characters: "+t.options.strength_required_special,e+="\nDigits: "+t.options.strength_required_digits,e+="\nMinimum Length: "+t.options.strength_minlength,alert(e)})},check_strength:function(e,t){var r=0,s=0,i=0,o=0,n=0,a="",h=0,p=0,d=0,l=0,c=e.match(/[A-Z]/g),u=e.match(/[a-z]/g),g=e.match(/[0-9]/g),_=e.match(/([!,%,&,@,#,$,^,*,?,_,~])/g);c&&(r=c.length),u&&(s=u.length),g&&(i=g.length),_&&(o=_.length),e.length>=this.options.strength_minlength&&(n=1),h=r>=this.options.strength_required_upper?this.options.strength_required_upper:r,p=s>=this.options.strength_required_lower?this.options.strength_required_lower:s,d=i>=this.options.strength_required_digits?this.options.strength_required_digits:i,l=o>=this.options.strength_required_special?this.options.strength_required_special:o,console.log("NumUpper: "+r+", UpperScore: "+h),console.log("NumLower: "+s+", LowerScore: "+p),console.log("NumDigits: "+i+", DigitScore: "+d),console.log("NumSpecial: "+o+", SpecialScore: "+l),console.log("Length: "+e.length+", SuffLength: "+n);var m=h+p+d+l+n,w=m/this.required_score;w=w.toFixed(2),1!=h&&(a+="Missing upper case character<br>"),1!=l&&(a+="Missing special character<br>"),1!=p&&(a+="Missing lower case character<br>"),1!=d&&(a+="Missing digits<br>"),1!=n&&(a+="Password needs to be 16 characters long<br>"),console.log(a),this.redraw_strength_meter(w,t,a)},redraw_strength_meter:function(t,r,s){var i=e('div[data-meter="'+r+'"]');console.log(t),0==t?(i.removeClass().html(""),this.hide_passwordrules_popover()):.33>=t?(i.removeClass(),i.addClass("veryweak").html("<p>Strength: very weak </p>"),this.show_passwordrules_popover(s)):.66>=t?(i.removeClass(),i.addClass("weak").html("<p>Strength: weak</p>"),this.show_passwordrules_popover(s)):1>t?(i.removeClass(),i.addClass("medium").html("<p>Strength: medium</p>"),this.show_passwordrules_popover(s)):(i.removeClass(),this.hide_passwordrules_popover(),i.addClass("strong").html("<p>Strength: strong</p>"))},show_passwordrules_popover:function(t){e("#inputPassword").attr("data-placement","top"),e("#inputPassword").attr("data-html","true"),e("#inputPassword").attr("data-content",t),e("#inputPassword").popover("show")},hide_passwordrules_popover:function(){e("#inputPassword").attr("data-content",""),e("#inputPassword").popover("hide")}},e.fn[o]=function(t){return this.each(function(){e.data(this,"plugin_"+o)||e.data(this,"plugin_"+o,new i(this,t))})}}(jQuery,window,document);